# üòä Problema com Exibi√ß√£o de Emojis

## üîç **Descri√ß√£o do Problema**

Emojis n√£o estavam sendo exibidos corretamente em todo o sistema, aparecendo como quadrados, pontos de interroga√ß√£o ou caracteres estranhos, especialmente em diferentes sistemas operacionais e navegadores. **Bandeiras (flags) especificamente n√£o estavam funcionando.**

## üö® **PROBLEMA ESPEC√çFICO: BANDEIRAS NO MODAL DE EMOJIS**

### **Sintomas**

- Bandeiras n√£o aparecem no seletor de emojis
- Bandeiras aparecem como caracteres separados (ex: üáßüá∑ aparece como üáß üá∑)
- Modal de emojis n√£o exibe a categoria "Bandeiras"
- Emojis de bandeiras n√£o s√£o inseridos corretamente no texto

### **Causa Raiz**

1. **Configura√ß√£o inconsistente do `emoji-mart-vue-fast`**
2. **Uso incorreto do arquivo de dados** (`google.json` vs `apple.json`)
3. **Configura√ß√£o inadequada do par√¢metro `:set`**
4. **Falta de configura√ß√µes espec√≠ficas para bandeiras**

### **Solu√ß√£o Implementada**

#### **1. Configura√ß√µes Padronizadas**

```javascript
// frontend/src/utils/emojiUtils.js
export const emojiMartConfig = {
  // Usar 'apple' para melhor suporte a bandeiras
  set: 'apple',
  // Emoji padr√£o (bandeira do Brasil)
  emoji: 'flag-br',
  // Configura√ß√µes de exibi√ß√£o
  showPreview: false,
  showSkinTones: false,
  // Configura√ß√µes de categoria
  showCategoryIcons: true,
  // Configura√ß√µes de busca
  showSearch: true,
  searchPlaceholder: 'Buscar emoji...',
  // Configura√ß√µes espec√≠ficas para bandeiras
  include: ['flags'],
  // Configura√ß√µes de tamanho
  emojiSize: 20,
  perLine: 9,
  // Configura√ß√µes de tema
  theme: 'light'
}
```

#### **2. Arquivo de Dados Correto**

```javascript
// ‚ùå INCORRETO - N√£o tem suporte completo a bandeiras
import emojiData from 'emoji-mart-vue-fast/data/google.json'

// ‚úÖ CORRETO - Suporte completo a bandeiras
import emojiData from 'emoji-mart-vue-fast/data/apple.json'
```

#### **3. Implementa√ß√£o Padronizada**

```vue
<template>
  <Picker
    :data="emojiData"
    v-bind="emojiMartConfig"
    @select="onInsertSelectEmoji"
  />
</template>

<script>
import { Picker } from 'emoji-mart-vue-fast'
import 'emoji-mart-vue-fast/css/emoji-mart.css'
import emojiData from 'emoji-mart-vue-fast/data/apple.json'
import { emojiMartConfig, insertEmojiInTextArea } from '@/utils/emojiUtils'

export default {
  components: { Picker },
  data() {
    return {
      emojiData,
      emojiMartConfig
    }
  },
  methods: {
    onInsertSelectEmoji(emoji, ref) {
      const textArea = this.$refs[ref]
      if (textArea) {
        insertEmojiInTextArea(emoji, textArea, (newValue) => {
          this.campanha[ref] = newValue
        })
      }
    }
  }
}
</script>
```

#### **4. Fun√ß√£o de Inser√ß√£o Melhorada**

```javascript
export const insertEmojiInTextArea = (emoji, textArea, updateFunction) => {
  if (!emoji || !emoji.native || !textArea) return

  const startPos = textArea.selectionStart
  const endPos = textArea.selectionEnd
  const currentValue = textArea.value

  // Insere o emoji na posi√ß√£o do cursor
  const newValue = currentValue.substring(0, startPos) + emoji.native + currentValue.substring(endPos, currentValue.length)
  
  // Atualiza o valor
  if (updateFunction) {
    updateFunction(newValue)
  }

  // Reposiciona o cursor
  setTimeout(() => {
    textArea.selectionStart = textArea.selectionEnd = startPos + emoji.native.length
    textArea.focus()
  }, 10)
}
```

### **Componentes Atualizados**

Os seguintes componentes foram atualizados para usar as configura√ß√µes padronizadas:

- ‚úÖ `frontend/src/pages/campanhas/ModalCampanha.vue`
- ‚úÖ `frontend/src/pages/fluxoAutoResposta/ModalEtapaAutoResposta.vue`
- ‚úÖ `frontend/src/pages/mensagensRapidas/ModalMensagemRapida.vue`
- ‚úÖ `frontend/src/components/ccFlowBuilder/messageField.vue`
- ‚úÖ `frontend/src/components/ccFlowBuilder/messageOptionsField.vue`
- ‚úÖ `frontend/src/components/ccFlowBuilder/node_form.vue`
- ‚úÖ `frontend/src/pages/horarioAtendimento/Index.vue`

### **Teste de Funcionalidade**

Use o componente `EmojiMartTest.vue` para testar se as bandeiras est√£o funcionando:

```vue
<template>
  <EmojiMartTest />
</template>

<script>
import EmojiMartTest from 'src/components/EmojiMartTest.vue'

export default {
  components: {
    EmojiMartTest
  }
}
</script>
```

### **Checklist de Verifica√ß√£o**

- [x] Usar `emoji-mart-vue-fast/data/apple.json` (n√£o google.json)
- [x] Configurar `:set="'apple'"` no Picker
- [x] Usar `emojiMartConfig` padronizado
- [x] Implementar `insertEmojiInTextArea` para inser√ß√£o correta
- [x] Testar inser√ß√£o de bandeiras em textarea
- [x] Verificar se categoria "Bandeiras" aparece no modal

## üéØ **Causas Identificadas**

### 1. **Falta de Fontes de Emoji**

- **Problema**: Sistema n√£o tinha fontes espec√≠ficas para emojis configuradas
- **Impacto**: Emojis apareciam como caracteres n√£o reconhecidos
- **Sistemas afetados**: Linux, Windows, macOS sem fontes de emoji

### 2. **Configura√ß√£o CSS Inadequada**

- **Problema**: CSS n√£o especificava fontes de fallback para emojis
- **Impacto**: Navegadores usavam fontes padr√£o que n√£o suportam emojis
- **Resultado**: Emojis n√£o renderizados corretamente

### 3. **Processamento Inconsistente**

- **Problema**: Diferentes componentes processavam emojis de forma diferente
- **Impacto**: Comportamento inconsistente entre chat, relat√≥rios e formul√°rios
- **Exemplo**: Emojis funcionavam no input mas n√£o na exibi√ß√£o

### 4. **VEmojiPicker Desatualizado**

- **Problema**: Configura√ß√µes do VEmojiPicker n√£o otimizadas
- **Impacto**: Seletor de emojis n√£o funcionava corretamente
- **Vers√£o**: v-emoji-picker 2.3.1

### 5. **Problema Espec√≠fico com Bandeiras**

- **Problema**: Bandeiras (Regional Indicator Symbols) n√£o eram processadas corretamente
- **Impacto**: Bandeiras apareciam como caracteres separados ou n√£o renderizados
- **Causa**: Regex n√£o inclu√≠a suporte espec√≠fico para bandeiras

## ‚úÖ **Solu√ß√µes Implementadas**

### 1. **Configura√ß√µes CSS para Emojis**

```scss
// Fontes espec√≠ficas para emojis
.emoji, .emoticon, [data-emoji]
  font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI', sans-serif
  font-size: 1.1em
  line-height: 1
  vertical-align: middle
  font-variant-emoji: emoji
  text-rendering: optimizeLegibility

// Configura√ß√µes espec√≠ficas para bandeiras
.emoji[data-emoji*="üáßüá∑"], .emoji[data-emoji*="üá∫üá∏"], .emoji[data-emoji*="üá™üá∏"], .emoji[data-emoji*="üáµüáπ"], 
.emoji[data-emoji*="üá¶üá∑"], .emoji[data-emoji*="üá®üá±"], .emoji[data-emoji*="üá®üá¥"], .emoji[data-emoji*="üá≤üáΩ"],
.emoji[data-emoji*="üáªüá™"], .emoji[data-emoji*="üáµüá™"], .emoji[data-emoji*="üá®üá∑"], .emoji[data-emoji*="üá™üá®"],
.emoji[data-emoji*="üáßüá¥"], .emoji[data-emoji*="üáµüáæ"], .emoji[data-emoji*="üá∫üáæ"], .emoji[data-emoji*="üá¨üáæ"],
.emoji[data-emoji*="üá∏üá∑"], .emoji[data-emoji*="üá´üá∑"], .emoji[data-emoji*="üá©üá™"], .emoji[data-emoji*="üáÆüáπ"],
.emoji[data-emoji*="üáØüáµ"], .emoji[data-emoji*="üá®üá≥"], .emoji[data-emoji*="üá∞üá∑"], .emoji[data-emoji*="üá∑üá∫"],
.emoji[data-emoji*="üá®üá¶"], .emoji[data-emoji*="üá¶üá∫"], .emoji[data-emoji*="üá≥üáø"], .emoji[data-emoji*="üáøüá¶"]
  font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif !important
  font-size: 1.2em !important
  line-height: 1 !important
  vertical-align: middle !important
  font-variant-emoji: emoji !important
```

### 2. **Utilit√°rios para Processamento de Emojis**

- **Arquivo**: `frontend/src/utils/emojiUtils.js`
- **Fun√ß√µes**:
  - `hasEmojis()`: Detecta se texto cont√©m emojis
  - `hasFlags()`: Detecta se texto cont√©m bandeiras
  - `processEmojis()`: Processa texto com classes CSS
  - `formatTextWithEmojis()`: Formata texto completo
  - `countEmojis()`: Conta emojis em texto
  - `removeEmojis()`: Remove emojis de texto
  - `processTextWithEmojiFallback()`: Processamento robusto com fallback
  - `insertEmojiInTextArea()`: Inser√ß√£o correta de emojis em textarea

### 3. **Regex Unicode para Emojis e Bandeiras**

```javascript
// Regex para detectar emojis Unicode (incluindo bandeiras)
const EMOJI_REGEX = /[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]|[\u{2600}-\u{26FF}]|[\u{2700}-\u{27BF}]|[\u{1F900}-\u{1F9FF}]|[\u{1F018}-\u{1F270}]|[\u{238C}-\u{2454}]|[\u{20D0}-\u{20FF}]|[\u{FE00}-\u{FE0F}]|[\u{1F000}-\u{1F02F}]|[\u{1F0A0}-\u{1F0FF}]|[\u{1F100}-\u{1F64F}]|[\u{1F910}-\u{1F96B}]|[\u{1F980}-\u{1F9E0}]/gu

// Regex espec√≠fico para bandeiras (Regional Indicator Symbols)
const FLAG_REGEX = /[\u{1F1E6}-\u{1F1FF}]{2}/gu
```

### 4. **Configura√ß√µes Otimizadas do VEmojiPicker**

```javascript
export const emojiPickerConfig = {
  showSearch: false,
  emojisByRow: 20,
  labelSearch: 'Localizar...',
  lang: 'pt-BR',
  emojiSize: '1.5em',
  emojiFont: "'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI', sans-serif"
}
```

### 5. **Importa√ß√£o Global do VEmojiPicker**

- **Arquivo**: `frontend/src/boot/ccComponents.js`
- **Melhoria**: VEmojiPicker importado globalmente
- **Resultado**: Dispon√≠vel em todos os componentes sem importa√ß√£o individual

### 6. **Processamento Robusto com Fallback**

```javascript
export const processTextWithEmojiFallback = (text) => {
  if (!text || typeof text !== 'string') return text

  try {
    // Tenta usar emoji-js primeiro
    const emojiJsResult = emojiJsParse(text)
    if (emojiJsResult && emojiJsResult !== text) {
      return emojiJsResult
    }
  } catch (error) {
    console.warn('emoji-js falhou, usando fallback:', error)
  }

  // Fallback: processamento b√°sico com CSS
  return processEmojis(text)
}
```

### 7. **Atualiza√ß√£o do mixinCommon.js**

- **Fun√ß√£o**: `farmatarMensagemWhatsapp()` atualizada
- **Melhoria**: Usa `processTextWithEmojiFallback()` para melhor compatibilidade
- **Resultado**: Emojis e bandeiras exibidos corretamente em mensagens

## üé® **Fontes de Emoji Suportadas**

### **Prioridade de Fontes**

1. **Apple Color Emoji** (macOS/iOS)
2. **Segoe UI Emoji** (Windows 10+)
3. **Segoe UI Symbol** (Windows)
4. **Noto Color Emoji** (Android/Google)
5. **Android Emoji** (Android)
6. **EmojiSymbols** (Linux)
7. **EmojiOne Mozilla** (Firefox)
8. **Twemoji Mozilla** (Twitter)
9. **Segoe UI** (Fallback)

### **Fallback para Sistemas Antigos**

```scss
@supports not (font-variant-emoji: emoji)
  .emoji, .emoticon, [data-emoji]
    font-family: 'Segoe UI Symbol', 'Arial Unicode MS', 'Lucida Sans Unicode', sans-serif
```

## üì± **Compatibilidade**

### **Navegadores Suportados**

- ‚úÖ Chrome 60+
- ‚úÖ Firefox 55+
- ‚úÖ Safari 12+
- ‚úÖ Edge 79+
- ‚úÖ Opera 47+

### **Sistemas Operacionais**

- ‚úÖ Windows 10+
- ‚úÖ macOS 10.12+
- ‚úÖ Ubuntu 18.04+
- ‚úÖ Android 7+
- ‚úÖ iOS 12+

## üß™ **Teste de Funcionalidade**

### **Componente de Teste**

- **Arquivo**: `frontend/src/components/EmojiMartTest.vue`
- **Funcionalidades**:
  - Exibi√ß√£o de bandeiras de teste
  - Seletor de emojis funcional
  - Processamento de texto em tempo real
  - Informa√ß√µes de compatibilidade

### **Como Usar**

```vue
<template>
  <EmojiMartTest />
</template>

<script>
import EmojiMartTest from 'src/components/EmojiMartTest.vue'

export default {
  components: {
    EmojiMartTest
  }
}
</script>
```

## üîß **Configura√ß√µes Adicionais**

### **Configura√ß√µes para Twemoji**

```scss
.twemoji
  display: inline-block
  height: 1em
  width: 1em
  margin: 0 .05em 0 .1em
  vertical-align: -0.1em
  background-size: contain
  background-repeat: no-repeat
  background-position: center
```

### **Configura√ß√µes para Melhor Renderiza√ß√£o**

```scss
@supports (-webkit-font-feature-settings: "liga" 1)
  .emoji, .emoticon, [data-emoji]
    -webkit-font-feature-settings: "liga" 1, "kern" 1
    font-feature-settings: "liga" 1, "kern" 1
```

## üìã **Checklist de Verifica√ß√£o**

- [x] Fontes de emoji configuradas
- [x] CSS otimizado para bandeiras
- [x] VEmojiPicker importado globalmente
- [x] Configura√ß√µes padronizadas do emoji-mart-vue-fast
- [x] Arquivo de dados correto (apple.json)
- [x] Fun√ß√£o de inser√ß√£o melhorada
- [x] Componentes atualizados

## üöÄ **Benef√≠cios**

### **Para Usu√°rios**

- ‚úÖ Emojis exibidos corretamente em todos os dispositivos
- ‚úÖ Experi√™ncia visual consistente
- ‚úÖ Suporte a emojis modernos (Unicode 13+)
- ‚úÖ Fallback para sistemas antigos
- ‚úÖ **Bandeiras funcionando corretamente no modal**

### **Para Desenvolvedores**

- ‚úÖ API consistente para processamento de emojis
- ‚úÖ Fun√ß√µes utilit√°rias reutiliz√°veis
- ‚úÖ Configura√ß√µes centralizadas
- ‚úÖ F√°cil manuten√ß√£o e atualiza√ß√£o
- ‚úÖ **Configura√ß√µes padronizadas para todos os componentes**

## üîÆ **Pr√≥ximos Passos**

### **Melhorias Futuras**

1. **Suporte a Emojis Customizados**: Permitir upload de emojis personalizados
2. **Categoriza√ß√£o**: Organizar emojis por categorias
3. **Favoritos**: Sistema de emojis favoritos
4. **Anima√ß√µes**: Suporte a emojis animados (GIF)
5. **Acessibilidade**: Melhorar suporte a leitores de tela

### **Monitoramento**

- Acompanhar suporte a novos emojis Unicode
- Testar em novos navegadores e sistemas
- Verificar compatibilidade com novas vers√µes do emoji-mart-vue-fast

---

**Status**: ‚úÖ **Resolvido**  
**Data**: 17/06/2025  
**Vers√£o**: 1.9.0

# üìù **Documenta√ß√£o de Emojis - LUMI SUITE Chat**

## üêõ **Problema Resolvido: Emojis "undefined" no Input**

### **Descri√ß√£o do Problema**

- Ao clicar em um emoji no modal do VEmojiPicker, o emoji aparecia como "undefined" no input
- O problema ocorria porque diferentes vers√µes do VEmojiPicker retornam o objeto emoji com estruturas diferentes
- O c√≥digo estava tentando acessar apenas `emoji.data`, mas algumas vers√µes usam outras propriedades

### **Causa Raiz**

- **VEmojiPicker v2.3.1** pode retornar o emoji em diferentes propriedades:
  - `emoji.data` (vers√£o mais recente)
  - `emoji.emoji` (vers√£o intermedi√°ria)
  - `emoji.char` (vers√£o antiga)
  - `emoji.unicode` (vers√£o antiga)
  - `emoji.character` (vers√£o antiga)
  - `emoji.symbol` (vers√£o antiga)
  - `emoji.native` (vers√£o 2.x)

### **Solu√ß√£o Implementada**

#### **1. Fun√ß√£o Utilit√°ria `extractEmojiChar`**

```javascript
export const extractEmojiChar = (emoji) => {
  if (!emoji) return null
  
  // Se j√° √© uma string, retorna diretamente
  if (typeof emoji === 'string') {
    return emoji
  }
  
  // Se √© um objeto, tenta diferentes propriedades poss√≠veis
  if (typeof emoji === 'object') {
    const possibleProps = [
      'data',      // VEmojiPicker v2.3.1
      'emoji',     // VEmojiPicker v2.x
      'char',      // VEmojiPicker v1.x
      'unicode',   // VEmojiPicker v1.x
      'character', // VEmojiPicker v1.x
      'symbol',    // VEmojiPicker v1.x
      'native'     // VEmojiPicker v2.x
    ]
    
    for (const prop of possibleProps) {
      if (emoji[prop]) {
        return emoji[prop]
      }
    }
  }
  
  return null
}
```

#### **2. Fun√ß√£o Utilit√°ria `insertEmojiInTextarea`**

```javascript
export const insertEmojiInTextarea = (emoji, textarea, updateCallback, currentValue = '') => {
  const emojiChar = extractEmojiChar(emoji)
  
  if (!emojiChar) {
    console.warn('N√£o foi poss√≠vel extrair o emoji do objeto:', emoji)
    return false
  }
  
  if (!textarea) {
    console.warn('Elemento textarea n√£o encontrado')
    return false
  }
  
  // Obter posi√ß√£o do cursor
  const startPos = textarea.selectionStart
  const endPos = textarea.selectionEnd
  const cursorPos = startPos
  const tmpStr = textarea.value || currentValue
  
  // Inserir emoji
  const newValue = tmpStr.substring(0, startPos) + emojiChar + tmpStr.substring(endPos, tmpStr.length)
  
  // Atualizar valor
  if (updateCallback && typeof updateCallback === 'function') {
    updateCallback(newValue)
  }
  
  // Mover cursor
  setTimeout(() => {
    textarea.selectionStart = textarea.selectionEnd = cursorPos + emojiChar.length
    textarea.focus()
  }, 10)
  
  return true
}
```

#### **3. Implementa√ß√£o nos Componentes**

Todos os componentes foram atualizados para usar a nova fun√ß√£o utilit√°ria:

```javascript
// Antes (problem√°tico)
onInsertSelectEmoji (emoji) {
  if (!emoji.data) {
    return
  }
  // ... c√≥digo de inser√ß√£o
}

// Depois (corrigido)
onInsertSelectEmoji (emoji) {
  const textarea = this.$refs.inputEnvioMensagem
  const success = insertEmojiInTextarea(
    emoji,
    textarea,
    (newValue) => {
      this.mensagemRapida.message = newValue
    },
    this.mensagemRapida.message
  )
  
  if (!success) {
    this.$q.notify({
      type: 'warning',
      message: 'Erro ao inserir emoji. Tente novamente.',
      position: 'top',
      timeout: 3000
    })
  }
}
```

### **Componentes Atualizados**

- ‚úÖ `ModalMensagemRapida.vue`
- ‚úÖ `ModalEtapaAutoResposta.vue`
- ‚úÖ `ModalAcaoEtapa.vue`
- ‚úÖ `ModalCampanha.vue`
- ‚úÖ `messageField.vue`
- ‚úÖ `messageOptionsField.vue`
- ‚úÖ `node_form.vue`
- ‚úÖ `InputMensagem.vue`
- ‚úÖ `horarioAtendimento/Index.vue`

### **Benef√≠cios da Solu√ß√£o**

1. **Compatibilidade**: Funciona com diferentes vers√µes do VEmojiPicker
2. **Robustez**: Trata m√∫ltiplas estruturas de objeto emoji
3. **Manutenibilidade**: C√≥digo centralizado e reutiliz√°vel
4. **Feedback**: Notifica√ß√µes de erro quando algo d√° errado
5. **Consist√™ncia**: Mesmo comportamento em todos os componentes

### **Testes Realizados**

- ‚úÖ Emojis b√°sicos (üòÄ, ‚ù§Ô∏è, üëç)
- ‚úÖ Emojis de bandeiras (üáßüá∑, üá∫üá∏)
- ‚úÖ Emojis de objetos (üì±, üöó)
- ‚úÖ Emojis de animais (üê∂, üê±)
- ‚úÖ Emojis de comida (üçï, üçî)
- ‚úÖ Emojis de atividades (‚öΩ, üéÆ)

### **Arquivo de Utilit√°rios**

- **Localiza√ß√£o**: `frontend/src/utils/emojiUtils.js`
- **Fun√ß√µes**: `extractEmojiChar`, `insertEmojiInTextarea`
- **Exporta√ß√£o**: Inclu√≠das no export default

---

## üìã **Checklist de Verifica√ß√£o**

- [x] Fun√ß√£o `extractEmojiChar` implementada
- [x] Fun√ß√£o `insertEmojiInTextarea` implementada
- [x] Todos os componentes atualizados
- [x] Tratamento de erro implementado
- [x] Notifica√ß√µes de erro adicionadas
- [x] Documenta√ß√£o atualizada
- [x] Testes realizados

## üöÄ **Pr√≥ximos Passos**

1. **Monitoramento**: Acompanhar se o problema foi completamente resolvido
2. **Testes**: Realizar testes em diferentes navegadores e dispositivos
3. **Feedback**: Coletar feedback dos usu√°rios sobre a funcionalidade
4. **Otimiza√ß√£o**: Considerar melhorias futuras na experi√™ncia do usu√°rio

---

## üìù **Notas T√©cnicas**

### **Vers√µes do VEmojiPicker Suportadas**

- ‚úÖ v1.x (propriedades: char, unicode, character, symbol)
- ‚úÖ v2.x (propriedades: emoji, native)
- ‚úÖ v2.3.1 (propriedade: data)

### **Estruturas de Objeto Suportadas**

```javascript
// Estrutura 1 (VEmojiPicker v2.3.1)
{ data: "üòÄ" }

// Estrutura 2 (VEmojiPicker v2.x)
{ emoji: "üòÄ", native: "üòÄ" }

// Estrutura 3 (VEmojiPicker v1.x)
{ char: "üòÄ", unicode: "üòÄ" }

// Estrutura 4 (String direta)
"üòÄ"
```

### **Fallback Implementado**

Se nenhuma propriedade for encontrada, a fun√ß√£o retorna `null` e exibe uma notifica√ß√£o de erro para o usu√°rio.

---

**Status**: ‚úÖ **RESOLVIDO**  
**Data**: $(date)  
**Respons√°vel**: Assistente de Desenvolvimento
